<template>
  <div class="max-w-3xl mx-auto mt-10 p-4">
    <div class="card bg-base-100 shadow-xl border border-base-200">
      <div class="card-body">
        
        <h2 class="card-title text-2xl font-bold mb-6">ğŸ“ ê¸€ ì‘ì„±í•˜ê¸°</h2>

        <PostForm 
          :is-admin="isAdmin"
          @submit="handleCreate" 
          @cancel="router.go(-1)"
        />

      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { usePostStore } from '@/stores/posts'
import PostForm from '@/components/community/PostForm.vue' // ì»´í¬ë„ŒíŠ¸ import

const store = usePostStore()
const router = useRouter()
const isAdmin = ref(false) // ì¶”í›„ ìœ ì € ì •ë³´ì—ì„œ ê°€ì ¸ì˜¤ê¸°

// PostFormì—ì„œ ë„˜ì–´ì˜¨ ë°ì´í„°(formData)ë¥¼ ë°›ì•„ì„œ ì €ì¥
const handleCreate = async (formData) => {
  await store.createPost(formData)
}
</script>